/* CSS Reset with optimized selectors */
*,*::before,*::after{
    margin:0;
    padding:0;
    box-sizing:border-box;
}
    
html{
    overflow-y:scroll;
    scroll-behavior:smooth;
}
    
:root{
    --primary:#4CAF50;
    --light-gray:#f5f5f5;
    --medium-gray:#e0e0e0;
    --dark-gray:#757575;
    --border-radius:8px;
    --transition:all 0.3s ease;
    --font-primary:'Inter',system-ui,-apple-system,sans-serif;
    --font-heading:'Poppins',system-ui,-apple-system,sans-serif;
    --shadow:0 2px 8px rgba(0,0,0,0.1);
}

/* Fallback fonts for better loading */
@font-face{
    font-family:'Inter-fallback';
    src:local('Arial'),local('sans-serif');
    font-display:swap;
}

body{
    font-family:var(--font-primary);
    background:#fff;
    color:#333;
    max-width:550px;
    margin:10px auto;
    padding:0 5px;
    line-height:1.5;
}

h1{
    color:var(--primary);
    text-align:center;
    margin:30px 0;
    font:600 2.5rem var(--font-heading);
}

/* Form elements base styles */
input,select,button{
    font-family:inherit;
    border:1px solid #ccc;
    border-radius:6px;
    transition:var(--transition);
}

button{
    cursor:pointer;
    font-weight:600;
}

button:focus,input:focus,select:focus{
    outline:2px solid var(--primary);
    outline-offset:2px;
}

/* Form container */
.add-item-section{
    display:flex;
    flex-direction:column;
    gap:15px;
    margin:20px 10px;
    background:var(--light-gray);
    padding:15px;
    border-radius:var(--border-radius);
}

.item-input{
    font-size:18px;
    padding:12px;
    border:1px solid var(--medium-gray);
    height:50px;
}

/* Quantity and category row */
.quantity-category-row{
    display:flex;
    width:80%;
    gap:10px;
}

.quantity-selector{
    display:flex;
    border:1px solid var(--medium-gray);
    border-radius:6px;
    overflow:hidden;
}

.quantity-input{
    width:70px;
    padding:12px;
    border:none;
    text-align:center;
    font-size:16px;
}

.quantity-unit{
    border:none;
    border-left:1px solid var(--medium-gray);
    padding:0 5px 0 10px;
    background:#fff;
    font-size:16px;
}

.category-selector{
    flex:1;
    padding:8px;
    background:#fff;
    font-size:16px;
}

/* Add button with icon styling */
.add-btn{
    background:var(--primary);
    color:#fff;
    border:none;
    padding:12px;
    font-size:18px;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    font-family:var(--font-heading);
    transition:background-color 0.2s ease;
}

.add-btn:hover{
    background:#45a049;
}

.icon-plus{
    font-size:20px;
    font-weight:bold;
}

/* Filter buttons */
.filter-buttons{
    display:flex;
    gap:0.5rem;
    margin:1rem 0;
    overflow-x:auto;
    padding-bottom:0.5rem;
    scrollbar-width:none;
    -webkit-overflow-scrolling:touch;
}

.filter-buttons::-webkit-scrollbar{
    display:none;
}

.filter-buttons button{
    flex:1;
    padding:8px 12px;
    border:none;
    background:#eee;
    font-size:15px;
    font-family:var(--font-heading);
    white-space:nowrap;
    transition:var(--transition);
}

.filter-buttons button:hover{
    opacity:0.8;
}

.filter-buttons .active{
    background:var(--primary);
    color:#fff;
}

/* Filter input */
.form-input-filter{
    width:100%;
    font-size:18px;
    margin:20px 0;
    padding:10px;
    border:none;
    border-bottom:1px solid #ccc;
    background:transparent;
}

/* Item list */
.item-list{
    list-style:none;
}

.item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    border-bottom:1px solid #ddd;
    padding:1.5rem 0.5rem;
    gap:0.8rem;
    transition:var(--transition);
    opacity:1;
}

.item.entering{
    opacity:0;
    transform:translateY(10px);
}

.item.edit-mode{
    opacity:0.5;
    border-bottom:3px solid #0022ff;
}

.item span{
    flex-grow:1;
    margin-left:0.3rem;
    font-size:20px;
    font-weight:600;
}

.item-note{
    color:#888;
    font-size:0.8rem;
    font-weight:normal;
    padding:0.5rem;
}

.category-tag{
    background:#d0e6ff;
    color:#0066cc;
    font-size:0.9rem;
    padding:4px 8px;
    border-radius:12px;
    margin-left:1rem;
    white-space:nowrap;
}

/* Action buttons */
.actions{
    display:flex;
    gap:1rem;
    align-items:center;
}

.actions button{
    background:none;
    border:none;
    padding:4px;
    transition:transform 0.2s ease;
}

.actions button:hover{
    transform:scale(1.1);
}

.actions svg{
    width:20px;
    height:20px;
}

/* Clear button */
.btn-clear{
    margin-top:20px;
    width:100%;
    font-size:16px;
    background:transparent;
    color:#333;
    border:1px solid #ccc;
    padding:10px 20px;
    transition:background-color 0.2s ease;
}

.btn-clear:hover{
    background:#eee;
}

/* Message box */
.message-box{
    position:fixed;
    top:10%;
    left:50%;
    transform:translateX(-50%);
    background:#ffe5e5;
    color:#c62828;
    padding:15px 25px;
    border:1px solid #c62828;
    border-radius:6px;
    font-size:18px;
    font-weight:600;
    box-shadow:var(--shadow);
    z-index:9999;
    opacity:0;
    visibility:hidden;
    transition:opacity 0.4s ease,visibility 0.4s ease;
}

.message-box.show{
    opacity:1;
    visibility:visible;
}

/* Confirmation modal */
.confirm{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:min(400px,90vw);
    background:#fff;
    font-size:18px;
    padding:20px;
    text-align:center;
    line-height:1.4;
    box-shadow:var(--shadow);
    border-radius:var(--border-radius);
    z-index:9999;
    opacity:0;
    visibility:hidden;
    transition:opacity 0.3s ease,visibility 0.3s ease;
}

.confirm.visible{
    opacity:1;
    visibility:visible;
}

.icon-warning{
    font-size:40px;
    display:block;
    margin-bottom:10px;
}

.confirm h3{
    margin-bottom:20px;
}

.modal-buttons{
    display:flex;
    justify-content:center;
    gap:20px;
    margin-top:20px;
}

.btn{
    padding:10px 20px;
    border:none;
    border-radius:6px;
    font-weight:bold;
    transition:background-color 0.2s ease;
}

.btn-confirm{
    background:#e53935;
    color:#fff;
}

.btn-confirm:hover{
    background:#c62828;
}

.btn-cancel{
    background:#ddd;
    color:#333;
}

.btn-cancel:hover{
    background:#ccc;
}

/* Overlay */
.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.3);
    z-index:9998;
    opacity:0;
    visibility:hidden;
    transition:opacity 0.2s ease,visibility 0.2s ease;
    backdrop-filter:blur(1px);
}

/* Empty message */
.empty-message{
    text-align:center;
    color:#888;
    font-size:1rem;
    font-style:italic;
    margin-top:3rem;
    transition:opacity 0.3s ease;
}

.empty-message.hidden{
    display:none;
}

/* Mobile optimizations */
@media (max-width:500px){
    body{
        max-width:400px;
    }
    
    .quantity-category-row{
        width:100%;
    }
    
    h1{
        font-size:1.5rem;
    }
    
    .item-input,.add-btn{
        height:40px;
        font-size:16px;
    }
    
    .category-tag{
        font-size:0.8rem;
    }
    
    .filter-buttons button{
        padding:6px 12px;
        margin-right:0.5rem;
        flex:0 0 auto;
    }
    
    .item span{
        font-size:16px;
    }
    
    .item-note{
        font-size:0.7rem;
    }
    
    .message-box{
        padding:10px;
        font-size:13px;
        max-width:90vw;
    }
    
    .confirm{
        width:95vw;
        padding:15px;
    }
}

/* Performance optimizations */
.item-list{
    contain:layout style;
}

.filter-buttons{
    contain:layout;
}

/* Reduced motion preference */
@media (prefers-reduced-motion:reduce){
    *{
        animation-duration:0.01ms !important;
        animation-iteration-count:1 !important;
        transition-duration:0.01ms !important;
    }
}

